<html>
<head><meta charset="utf-8"><title>NixOS tutorial series · nixos · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://chat.nixos.asia/stream/413948-nixos/index.html">nixos</a></h2>
<h3>Topic: <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html">NixOS tutorial series</a></h3>

<hr>

<base href="https://nixos.zulipchat.com">

<head><link href="http://chat.nixos.asia/style.css" rel="stylesheet"></head>

<a name="406935695"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/406935695" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srid <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#406935695">(Dec 09 2023 at 13:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="671068">Zapier</span> <a href="#narrow/stream/415266-social-media/topic/r.2Fnixos/near/406907033">said</a>:</p>
<blockquote>
<h2>flake-parts system config + hm</h2>
<p>Date: 2023-12-08T07:33:48+00:00<br>
Link: <a href="https://old.reddit.com/r/NixOS/comments/18dhmb5/flakeparts_system_config_hm/">https://old.reddit.com/r/NixOS/comments/18dhmb5/flakeparts_system_config_hm/</a></p>
<blockquote>
<p>Is there a step-by-step tutorial on how to use flake-parts for system configuration (ideally with home-manager)? The documentation is too abstract for me.</p>
<p>The published repos on github of people using flake-parts all look very different, and I cannot comprehend why they do things different.</p>
<p>submitted by   /u/zeec123</p>
<p>[link]   [comments]<br>
</p>
</blockquote>
</blockquote>



<a name="406962653"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/406962653" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srid <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#406962653">(Dec 09 2023 at 18:46)</a>:</h4>
<p>Just a skeleton for now: <a href="https://nixos.asia/en/nixos">https://nixos.asia/en/nixos</a></p>
<p><a href="/user_uploads/60244/eUWw4sp9KYG1omblUfjaW_3G/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/60244/eUWw4sp9KYG1omblUfjaW_3G/image.png" title="image.png"><img src="/user_uploads/60244/eUWw4sp9KYG1omblUfjaW_3G/image.png"></a></div>



<a name="406988850"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/406988850" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srid <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#406988850">(Dec 10 2023 at 00:44)</a>:</h4>
<p>First attempt: <a href="https://github.com/nixos-asia/website/pull/12">https://github.com/nixos-asia/website/pull/12</a></p>



<a name="406990798"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/406990798" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srid <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#406990798">(Dec 10 2023 at 01:03)</a>:</h4>
<p>Feedback on this ^ welcome. Planning to publish tomorrow.</p>



<a name="407240328"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/407240328" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srid <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#407240328">(Dec 11 2023 at 13:29)</a>:</h4>
<p>First tutorial <span aria-label="right" class="emoji emoji-27a1" role="img" title="right">:right:</span> <a href="https://nixos.asia/en/tutorial/nixos-install">https://nixos.asia/en/tutorial/nixos-install</a></p>



<a name="407491259"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/407491259" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srid <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#407491259">(Dec 12 2023 at 14:39)</a>:</h4>
<p><span class="user-mention" data-user-id="669081">@Shivaraj B H</span> </p>
<p>I propose that we repurpose <a href="https://github.com/nixos-asia/website/pull/8">this blog post</a> into a general tutorial that complements our <a href="https://nixos.asia/en/tutorial/nixos-install">first one</a>.</p>
<ul>
<li>It will no longer need to be associated with remote-development repo</li>
<li>It fits in the larger scheme of producing <a href="https://lobste.rs/s/sd9kqb/install_nixos_with_flake_configuration#c_i3ajj6">a learning mind-map / flow-chat</a>.<ul>
<li>Specifically, there are two 'doorways' to installing NixOS: a) the usual approach via graphical installer (1st tutorial), b) a more automated approach (this blog-post-repurposed-as-tutorial)</li>
</ul>
</li>
</ul>
<p>To give an idea of the 'larger scheme':</p>
<p><a href="/user_uploads/60244/ZuJNAwZwrO36_V0o9Ero3zkl/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/60244/ZuJNAwZwrO36_V0o9Ero3zkl/image.png" title="image.png"><img src="/user_uploads/60244/ZuJNAwZwrO36_V0o9Ero3zkl/image.png"></a></div>



<a name="407493092"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/407493092" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shivaraj B H <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#407493092">(Dec 12 2023 at 14:47)</a>:</h4>
<p>I think likewise, I was having second thoughts about publishing the above mentioned post primarily because this minimal configuration was way too specific for the device we are using.</p>



<a name="407493409"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/407493409" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shivaraj B H <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#407493409">(Dec 12 2023 at 14:48)</a>:</h4>
<p>There is actually a third way of installing as well that can compliment the first tutorial you had written: Disko to partition your disk and Nixos-install —flake to install the OS</p>



<a name="407493518"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/407493518" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srid <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#407493518">(Dec 12 2023 at 14:48)</a>:</h4>
<p>Let's do it. You can rewrite it such that it achieves the same goal of first tutorial (nixos deployed with flakes enabled and config in git), but nearly automated.</p>
<p>Yea, I assume we would be using disko for tutorial 2?</p>



<a name="407493640"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/407493640" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srid <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#407493640">(Dec 12 2023 at 14:49)</a>:</h4>
<p>Also, screenshots are plenty useful. I liberally take screenshots and put them in Google photos. I think I took like 15 screenshots for first post, and ended up using 2 or 3 of them.</p>



<a name="407494034"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/407494034" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shivaraj B H <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#407494034">(Dec 12 2023 at 14:50)</a>:</h4>
<p>Yes we will be using disko combined with nixos-anywhere but there can also be a scenario where nixos-anywhere is not an option, like the situation I am facing now (no wired Ethernet), what if I still want to maintain my partitioning scheme in nix</p>



<a name="407494272"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/407494272" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shivaraj B H <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#407494272">(Dec 12 2023 at 14:51)</a>:</h4>
<p>I tried this out as an experiment, it does work, I will do it again and take screenshots while I am at it</p>



<a name="407495351"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/407495351" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srid <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#407495351">(Dec 12 2023 at 14:56)</a>:</h4>
<p>This would be manual (not graphical) install + disko + <code>nixos-install --flake</code>? Yes, a tutorial on that would be great as well!</p>



<a name="407495417"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/407495417" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srid <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#407495417">(Dec 12 2023 at 14:56)</a>:</h4>
<p>Let's do that one next, actually. nixos-anywhere can come latter if necessary</p>



<a name="407495565"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/407495565" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srid <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#407495565">(Dec 12 2023 at 14:57)</a>:</h4>
<p>Then, we can say: "here are 3 ways to install NixOS" - each progressively more automated.</p>



<a name="407495692"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/407495692" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srid <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#407495692">(Dec 12 2023 at 14:57)</a>:</h4>
<blockquote>
<p>I will do it again and take screenshots while I am at it</p>
</blockquote>
<p>Try it on VM, better for screenshots. I used Parallels (could be VirtualBox) running aarch64-linux.</p>



<a name="407497032"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/407497032" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shivaraj B H <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#407497032">(Dec 12 2023 at 15:02)</a>:</h4>
<p>Great, sounds good</p>



<a name="408234862"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/408234862" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srid <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#408234862">(Dec 15 2023 at 18:17)</a>:</h4>
<p>Source for some ideas</p>
<blockquote>
<p>Note what George says at some point: “I am interested in being able to use Nix to quickly deploy cloud instances.”</p>
<p>So wouldn’t it be great if we had documentation for that use case?</p>
</blockquote>
<p>--<a href="https://discourse.nixos.org/t/george-hotz-checking-out-nix-for-the-first-time/36838/8">APCodes</a> (who is looking to join their documentation team)</p>
<p>(Not recommending that we read the rest of the thread which appears to be idle debate that goes nowhere)</p>



<a name="409134482"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/409134482" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shivaraj B H <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#409134482">(Dec 20 2023 at 09:58)</a>:</h4>
<p>I was considering to explore <a href="https://github.com/nixos/nixos-hardware">https://github.com/nixos/nixos-hardware</a> for the final automated tutorial of this series</p>



<a name="422403382"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/422403382" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srid <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#422403382">(Feb 20 2024 at 12:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="667408">Srid</span> <a href="#narrow/stream/413948-nixos/topic/NixOS.20tutorial.20series/near/407240328">said</a>:</p>
<blockquote>
<p>First tutorial <span aria-label="right" class="emoji emoji-27a1" role="img" title="right">:right:</span> <a href="https://nixos.asia/en/tutorial/nixos-install">https://nixos.asia/en/tutorial/nixos-install</a></p>
</blockquote>
<p>Second tutorial using <code>disko</code>, written by <span class="user-mention" data-user-id="669081">@Shivaraj B H</span> <span aria-label="right" class="emoji emoji-27a1" role="img" title="right">:right:</span> <a href="https://nixos.asia/en/nixos-install-disko">https://nixos.asia/en/nixos-install-disko</a></p>



<a name="422506285"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/422506285" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srid <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#422506285">(Feb 20 2024 at 21:42)</a>:</h4>
<p><span class="user-mention" data-user-id="669081">@Shivaraj B H</span> I just tried nixos-anywhere to install a flake on a VM.</p>
<p>I couldn't find a rescue image for arm linux, so I just booted into the NixOS installer. And then setup its root user for ssh'ing:</p>
<div class="codehilite"><pre><span></span><code># from installer booted machine, set a root password
sudo passwd root

# from macos
ssh-copy-id -o PreferredAuthentications=password  root@10.211.55.13

# then install the flake
nix run github:nix-community/nixos-anywhere -- --build-on-remote --flake .#here root@10.211.55.13
</code></pre></div>
<p>Since the core 'steps' are small, I suppose a large part of our 3rd tutorial should focus on getting it working right when deploying from macOS or Linux. I also noticed that when the configuration included packages like nixvim, nixos-anywhere fails to remotely build it.</p>



<a name="422553055"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/422553055" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shivaraj B H <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#422553055">(Feb 21 2024 at 06:25)</a>:</h4>
<p>What does it fail with while trying to build packages like nixvim?</p>



<a name="422591584"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/422591584" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srid <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#422591584">(Feb 21 2024 at 10:58)</a>:</h4>
<p>It was more along the lines of,</p>
<div class="codehilite"><pre><span></span><code>a &#39;aarch64-linux&#39; with features {} is required to build &#39;/nix/store/ziz2sfr9h5w1sss2w2bzhjf4vl2g314g-source.drv&#39;, but I am a &#39;aarch64-darwin&#39; with features {benchmark, big-parallel, kvm, nixos-test}
</code></pre></div>



<a name="422615323"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/422615323" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srid <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#422615323">(Feb 21 2024 at 13:17)</a>:</h4>
<blockquote>
<p>Since the core 'steps' are small, I suppose a large part of our 3rd tutorial should focus on getting it working right when deploying from macOS or Linux. </p>
</blockquote>
<p>And it may also include <a href="https://github.com/juspay/nix-dev-home">nix-dev-home</a> automatically? Then we can point Linux users in our company directly to this tutorial.</p>



<a name="422695122"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/422695122" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srid <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#422695122">(Feb 21 2024 at 19:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="667408">Srid</span> <a href="#narrow/stream/413948-nixos/topic/NixOS.20tutorial.20series/near/422591584">said</a>:</p>
<blockquote>
<p>It was more along the lines of,</p>
<p><div class="codehilite"><pre><span></span><code>a &#39;aarch64-linux&#39; with features {} is required to build &#39;/nix/store/ziz2sfr9h5w1sss2w2bzhjf4vl2g314g-source.drv&#39;, but I am a &#39;aarch64-darwin&#39; with features {benchmark, big-parallel, kvm, nixos-test}
</code></pre></div><br>
</p>
</blockquote>
<p>Related: <a href="https://github.com/zhaofengli/colmena/issues/178">https://github.com/zhaofengli/colmena/issues/178</a></p>



<a name="429642800"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/429642800" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srid <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#429642800">(Mar 26 2024 at 12:22)</a>:</h4>
<h4><code>disko-install</code></h4>
<p><a href="https://github.com/nix-community/disko/pull/548">https://github.com/nix-community/disko/pull/548</a></p>
<p><a href="https://tinkering.xyz/installing-nixos/">https://tinkering.xyz/installing-nixos/</a></p>
<p><a href="/user_uploads/60244/kw4y7Ts5scF7BuZF6eQV0O41/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/60244/kw4y7Ts5scF7BuZF6eQV0O41/image.png" title="image.png"><img src="/user_uploads/60244/kw4y7Ts5scF7BuZF6eQV0O41/image.png"></a></div>



<a name="429646633"></a>
<h4><a href="https://nixos.zulipchat.com#narrow/stream/413948-nixos/topic/NixOS%20tutorial%20series/near/429646633" class="zl"><img src="http://chat.nixos.asia/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="http://chat.nixos.asia/stream/413948-nixos/topic/NixOS.20tutorial.20series.html#429646633">(Mar 26 2024 at 12:45)</a>:</h4>
<p>3 messages were moved from this topic to <a class="stream-topic" data-stream-id="413948" href="/#narrow/stream/413948-nixos/topic/disko-install">#nixos &gt; disko-install</a> by <span class="user-mention silent" data-user-id="667408">Srid</span>.</p>



<hr><p>Last updated: Jun 27 2024 at 18:45 UTC</p>
</html>